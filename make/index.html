---
layout: none
title: Make
---
<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Make Custom Fundraiser Link for {{ site.scout_type }} {{ site.unit_type }} {{ site.unit_number }}</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bulma@0.9.4/css/bulma.min.css">
    <style>
        @media print {
            #flyerSection {
                display: block !important;
                visibility: visible !important;
                position: static !important;
            }

            .no-print,
            #printButtonSection,
            #socialSection,
            #linkForm,
            #generator {
                display: none !important;
            }
        }

        /* Sunburst callout styles */
        .sunburst {
            position: absolute;
            width: 120px;
            height: 120px;
            border-radius: 50%;
            background: #fff;
            box-shadow: 0 0 24px 0 var(--burst-color), 0 0 0 8px #fff;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            color: #222;
            font-size: 1.2em;
            text-align: center;
            z-index: 2;
            border: 3px solid #fff;
        }

        .sunburst span {
            display: block;
            width: 90px;
            transform: rotate(var(--angle));
            font-size: 1.2em;
            font-family: Arial, sans-serif;
            font-weight: bold;
            margin: 0 auto;
            text-shadow: 2px 2px 12px var(--burst-color), 0 0 2px #fff, 0 0 8px #fff;
        }

        #flyerTitle {
            font-size: 2.5em !important;
            font-weight: 900 !important;
            margin-bottom: 0.2em !important;
        }

        #flyerImg {
            height: 110px !important;
            margin: 0 10px !important;
        }

        .flyer-qr-area {
            position: absolute;
            left: 50%;
            top: 50%;
            transform: translate(-50%, -50%);
            background: #fff;
            border-radius: 20px;
            box-shadow: 0 2px 16px #ccc;
            padding: 32px;
            z-index: 3;
        }
    </style>
</head>

<body>
    <section class="section">
        <div class="container">
            <section id="generator">
                <div class="box">
                    <div class="has-text-centered" style="margin-bottom:1em;">
                        <span
                            style="font-size:2em; font-weight:bold; color:#3273dc; letter-spacing:2px; text-shadow: 1px 1px 2px #eee;">
                            {{ site.scout_type }} {{ site.unit_type }} {{ site.unit_number }}
                        </span>
                    </div>
                    <h1 class="title is-3 has-text-centered">Create Your Personalized Fundraiser Link & QR Code</h1>
                    <form id="linkForm">
                        <div class="field">
                            <label class="label" for="scout">Enter Your Name <span
                                    class="has-text-danger">(required)</span>:</label>
                            <div class="control">
                                <input class="input" type="text" id="scout" name="scout" required>
                            </div>
                        </div>
                        <div class="field">
                            <label class="label" for="popcorn">Popcorn Scout Code <span
                                    class="has-text-grey">(optional)</span>:</label>
                            <p class="help">If you have a popcorn code, enter it here to include popcorn sales in your
                                fundraiser link.</p>
                            <div class="control">
                                <input class="input" type="text" id="popcorn" name="popcorn">
                            </div>
                            <div id="popcornPreview" style="display:none; margin-top:0.5em;">
                                <span class="has-text-grey">Preview Popcorn Link:</span>
                                <a id="popcornLinkPreview" class="has-text-link" href="#" target="_blank"></a>
                            </div>
                        </div>
                        <div class="field">
                            <div class="control">
                                <button class="button is-link" type="submit" id="generateBtn">Create My Fundraiser Link
                                    &amp; QR Code</button>
                            </div>
                        </div>
                    </form>
                </div>
            </section>
            <section id="socialSection" class="section" style="display:none;">
                <div class='box' style='margin:auto;'>
                    <h2 class='title is-5 has-text-centered'>Share Your Fundraiser</h2>
                    <p class='has-text-centered'>Copy and Paste this message:</p>
                    <div class='has-text-centered' style='margin-bottom:1em;'>
                        <textarea id='socialMsg' class='textarea' readonly style='margin-bottom:0.5em;'></textarea>
                        <button class='button is-info' id='copyMsgBtn' title='Copy the message to your clipboard'>Copy
                            Message</button>
                        <div id="socialMsgTemplate" style="display:none;">
                            Support [Scout Name]'s fundraising for {{ site.scout_type }} {{ site.unit_type }} {{
                            site.unit_number }}! Order delicious coffee and treats! [URL]
                        </div>
                    </div>
                    <p class='has-text-centered'>Or share this direct link: <a id='socialLink' class='has-text-link'
                            href='#' target='_blank'></a></p>
                </div>
            </section>
        </div>
        <!-- Print Flyer Section -->
        <div id="flyerSection" style="display:none; margin-top:2em;">
            <div class="box" style="margin:auto;">
                <div class="has-text-centered no-print" style="margin-bottom:1em;">
                    <button class="button is-primary" onclick="window.print()" title="Print a flyer to hand out">Print
                        My Fundraiser Flyer</button>
                </div>
                <h2 id="flyerTitle" class="title is-4 has-text-centered no-print">Your Printable Fundraiser Flyer</h2>
                <div class="has-text-centered" style="margin-bottom:0.5em;">
                    <img id="flyerImg" src="/assets/images/coffee.png" alt="Coffee Fundraiser" style="display:inline-block;">
                </div>
                <p class="has-text-centered title" id="flyerFundraiserText" style="font-size:1.2em; font-weight:bold; margin-bottom:0.5em;">
                    {{ site.scout_type }} {{ site.unit_type }} {{ site.unit_number }} Coffee Fundraiser
                </p>
                <p class="has-text-centered" style="margin-bottom:0.5em;">
                    Order delicious coffee and treats online to help <span id="flyerScout2"></span> reach their goal!
                </p>
                <div class="has-text-centered" style="margin-bottom:1em; position:relative; width:340px; height:340px; margin:auto;">
                    <!-- CSS Sunburst Callouts -->
                    <div class="sunburst" style="left:-60px; top:-60px; --burst-color:#ff3860; --angle:-15deg;">
                        <span>ORDER ONLINE</span>
                    </div>
                    <div class="sunburst" style="right:-60px; top:40px; --burst-color:#3273dc; --angle:15deg;">
                        <span>SHIPS DIRECTLY</span>
                    </div>
                    <div class="sunburst" style="left:70%; bottom:-60px; transform:translate(-50%, 10px); --burst-color:#23d160; --angle:-10deg;">
                        <span>ARRIVES SOONER</span>
                    </div>
                    <!-- QR Code Center -->
                    <div class="flyer-qr-area">
                        <canvas id="flyerQR" style="margin:auto;"></canvas>
                    </div>
                </div>
                <p class="has-text-centered">Scan the QR code or visit this link:</p>
                <p class="has-text-centered"><a id="flyerLink" class="has-text-link" href="#" target="_blank"></a></p>
            </div>
        </div>
        </div>
    </section>
    <script src="https://cdn.jsdelivr.net/npm/qrious/dist/qrious.min.js"></script>
    <script>
        // Popcorn code preview popover and button text/color change
        document.getElementById('popcorn').addEventListener('input', function () {
            const code = this.value.trim();
            const previewDiv = document.getElementById('popcornPreview');
            const previewLink = document.getElementById('popcornLinkPreview');
            const btn = document.getElementById('generateBtn');
            if (code) {
                previewDiv.style.display = '';
                previewLink.href = `{{site.popcorn_base_link}}${encodeURIComponent(code)}`;
                previewLink.textContent = previewLink.href;
                btn.textContent = 'Generate Coffee & Popcorn Link & QR Code';
                btn.classList.remove('is-link');
                btn.classList.add('is-warning');
            } else {
                previewDiv.style.display = 'none';
                previewLink.href = '#';
                previewLink.textContent = '';
                btn.textContent = 'Generate Coffee Fundraiser Link & QR Code';
                btn.classList.remove('is-warning');
                btn.classList.add('is-link');
            }
        });


        document.getElementById('linkForm').onsubmit = function (e) {
            e.preventDefault();

            // Encode scout name, replacing spaces with +
            let scout = document.getElementById('scout').value.trim();
            scout = encodeURIComponent(scout).replace(/%20/g, '+');
            let popcorn = document.getElementById('popcorn').value.trim();
            popcorn = encodeURIComponent(popcorn).replace(/%20/g, '+');
            if (!scout) {
                alert('Scout name is required.');
                return;
            }
            const isPopcorn = Boolean(popcorn);
            const url = isPopcorn
                ? `${window.location.origin}/sell/?scout=${scout}&popcorn=${popcorn}`
                : `${window.location.origin}/coffee/?scout=${scout}`;
            const flyerKind= isPopcorn
                ? 'Coffee & Popcorn Fundraiser'
                : 'Coffee Fundraiser';
            const flyerTitle = flyerKind + ' Flyer';
            const flyerFundraiserText = `{{ site.scout_type }} {{ site.unit_type }} {{ site.unit_number }} ${flyerKind}`;
            const flyerImgSrc = isPopcorn
                ? '/assets/images/sell.png'
                : '/assets/images/coffee.png';
            // Populate and show social media share section
            const socialSection = document.getElementById('socialSection');
            const socialMsg = document.getElementById('socialMsg');
            const socialLink = document.getElementById('socialLink');
            const template = document.getElementById('socialMsgTemplate').textContent.trim();
            const scoutName = decodeURIComponent(scout.replace(/\+/g, ' '));
            const message = template.replace('[Scout Name]', scoutName).replace('[URL]', url);
            socialMsg.value = message;
            socialLink.href = url;
            socialLink.textContent = url;
            socialSection.style.display = '';
            document.getElementById('copyMsgBtn').onclick = function () {
                navigator.clipboard.writeText(socialMsg.value);
            };
            // Show flyer section and print button, and populate flyer
            const flyerSection = document.getElementById('flyerSection');
            flyerSection.style.display = '';
            const scoutNameRaw = document.getElementById('scout').value.trim();
            document.getElementById('flyerScout').textContent = scoutNameRaw;
            document.getElementById('flyerScout2').textContent = scoutNameRaw;
            document.getElementById('flyerLink').href = url;
            document.getElementById('flyerLink').textContent = url;
            document.getElementById('flyerTitle').textContent = flyerTitle;
            document.getElementById('flyerFundraiserText').textContent = flyerFundraiserText;
            document.getElementById('flyerImg').src = flyerImgSrc;
            // Generate QR for flyer
            new QRious({ element: document.getElementById('flyerQR'), value: url, size: 200 });
        };
    </script>
</body>

</html>