---
layout: none
title: Make
---
<!DOCTYPE html>
<html lang="en">
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Make Custom Fundraiser Link for {{ site.unit_type }} {{ site.unit_number }}</title>
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bulma@0.9.4/css/bulma.min.css">
</head>
<body>
  <section class="section">
    <div class="container">
      <div class="box">
        <h1 class="title is-3 has-text-centered">Generate Your Fundraiser Link & QR Code</h1>
        <form id="linkForm">
          <div class="field">
            <label class="label" for="scout">Scout Name <span class="has-text-danger">(required)</span>:</label>
            <div class="control">
              <input class="input" type="text" id="scout" name="scout" required>
            </div>
          </div>
          <div class="field">
            <label class="label" for="popcorn">Popcorn Code <span class="has-text-grey">(optional)</span>:</label>
            <div class="control">
              <input class="input" type="text" id="popcorn" name="popcorn">
            </div>
          </div>
          <div class="field">
            <div class="control">
              <button class="button is-link" type="submit">Generate Link</button>
            </div>
          </div>
        </form>
        <div id="result" style="margin-top:2em;"></div>
      </div>
    </div>
  </section>
  <script src="https://cdn.jsdelivr.net/npm/qrious/dist/qrious.min.js"></script>
  <script>
    document.getElementById('linkForm').onsubmit = function(e) {
        e.preventDefault();
        // Encode scout name, replacing spaces with +
        let scout = document.getElementById('scout').value.trim();
        scout = encodeURIComponent(scout).replace(/%20/g, '+');
        let popcorn = document.getElementById('popcorn').value.trim();
        popcorn = encodeURIComponent(popcorn).replace(/%20/g, '+');
        if (!scout) {
            alert('Scout name is required.');
            return;
        }
        let url;
        if (popcorn) {
            url = `${window.location.origin}/sell/?scout=${scout}&popcorn=${popcorn}`;
        } else {
            url = `${window.location.origin}/coffee/?scout=${scout}`;
        }
      document.getElementById('result').innerHTML = `<p>Share this link:</p><a class='has-text-link' href="${url}" target="_blank">${url}</a><br><canvas id='qr'></canvas>`;
      const qr = new QRious({element: document.getElementById('qr'), value: url, size: 200});
    };
  </script>
</body>
</html>
